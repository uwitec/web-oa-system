<?xml version="1.0" encoding="UTF-8" ?>

<!DOCTYPE struts PUBLIC
    "-//Apache Software Foundation//DTD Struts Configuration 2.1.7//EN"
    "http://struts.apache.org/dtds/struts-2.1.7.dtd">

<struts>
	<constant name="struts.configuration.xml.reload" value="true"></constant>
	<constant name="struts.i18n.encoding" value="GBK"></constant>
	<constant name="struts.ognl.allowStaticMethodAccess" value="true"></constant>
	<constant name="struts.devMode" value="true"></constant>
	<constant name="struts.ui.theme" value="simple"></constant>


	<package name="emailPack" extends="struts-default" namespace="/email">



		<action name="presend" class="com.oa.action.EmailAction"
			method="preAddEmail">
			<result name="success">/email/send_email.jsp</result>
		</action>

		<action name="saveEmail" class="com.oa.action.EmailAction"
			method="saveEmail">
			<param name="savePath">/upload/email</param>
			<result name="success" type="chain">
				getemail
			</result>
			<result name="input">/email/send_email.jsp</result>
		</action>

		<action name="getemail" class="com.oa.action.EmailAction"
			method="getEmails">
			<result name="outbox">/email/outbox.jsp</result>
			<result name="inbox">/email/inbox.jsp</result>
			<result name="dust">/email/dust.jsp</result>
			<result name="draft">/email/draft.jsp</result>
		</action>


		<action name="deleteEmail" class="com.oa.action.EmailAction"
			method="deleteEmail">
			<result name="success" type="chain">
				getemail
			</result>
		</action>

		<action name="deleteToDust" class="com.oa.action.EmailAction"
			method="deleteToDust">
			<result name="success" type="chain">
				getemail
			</result>
		</action>


		<action name="dustToInbox" class="com.oa.action.EmailAction"
			method="dustToInbox">
			<result name="success" type="chain">
				getemail
			</result>
		</action>

		<action name="viewEmail" class="com.oa.action.EmailAction"
			method="viewEmail">
			<result name="view">/email/view_email.jsp</result>
			<result name="edit">/email/edit_email.jsp</result>
		</action>

		<action name="download" class="com.oa.action.EmailAction"
			method="downLoad">
			<result name="download" type="stream">
				<param name="contentDisposition">attachment;filename="${oldName}"</param>
			</result>
		</action>
	</package>
</struts>